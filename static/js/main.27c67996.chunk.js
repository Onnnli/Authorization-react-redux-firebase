(this.webpackJsonptask8_auth=this.webpackJsonptask8_auth||[]).push([[0],{122:function(e,t,n){},245:function(e,t,n){"use strict";n.r(t);var r,c,a=n(0),o=n(56),s=n.n(o),i=(n(122),n(27)),u=n(28),l=n(31),j=n(30),p=n(45),b=n(47),d=n(11),O=n(14),h=n(251),m=Object(h.a)("SIGN_UP_REQUEST"),f=Object(h.a)("SIGN_UP_SUCCESS"),x=Object(h.a)("SIGN_UP_FAIL"),S=Object(h.a)("LOGIN_REQUEST"),g=Object(h.a)("LOGIN_SUCCESS"),v=Object(h.a)("LOGIN_FAIL"),E=n(246),w=n(249),y=n(247),N=n(3),k=function(e){var t=e.input,n=e.label,r=e.type,c=e.meta,a=c.touched,o=c.error,s=c.warning;return Object(N.jsxs)("div",{children:[Object(N.jsx)("label",{children:n}),Object(N.jsxs)("div",{children:[Object(N.jsx)("input",Object(p.a)(Object(p.a)({},t),{},{placeholder:n,type:r})),a&&(o&&Object(N.jsx)("span",{children:o})||s&&Object(N.jsx)("span",{children:s}))]})]})},I=function(e){return e||"number"===typeof e?void 0:"Required"},U=function(e){return e&&!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e)?"Invalid email address":void 0},R=function(e){return function(t){return t&&t.length<e?"Must be ".concat(e," characters or less"):void 0}},C=R(6),_=(R(12),Object(y.a)({form:"login"})((function(e){var t=e.handleSubmit;return Object(N.jsx)("div",{className:"wrapper_form",children:Object(N.jsxs)(E.a,{onSubmit:t,className:"form",children:[Object(N.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(N.jsx)("label",{htmlFor:"email",children:"Email"}),Object(N.jsx)(w.a,{component:k,type:"text",name:"email",placeholder:"Your Email",validate:[I,U]})]}),Object(N.jsxs)("div",{children:[Object(N.jsx)("label",{htmlFor:"password",children:"Password"}),Object(N.jsx)(w.a,{component:k,type:"password",name:"password",placeholder:"Your Password",validate:[I,C]})]}),Object(N.jsx)("button",{children:"LOGIN"}),Object(N.jsx)(b.b,{to:"/signup",children:"signup"})]})})}))),T=n(82),G=Object(T.a)((function(e){return e.signUp}),(function(e){return e})),A=Object(T.a)((function(e){return e.login}),(function(e){return e})),L=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).componentDidUpdate=function(){"string"===typeof r.props.token&&r.props.history.push("/feed")},r.handleSubmit=function(e){r.props.userLogin({email:e.email,password:e.password,returnSecureToken:!0})},r}return Object(u.a)(n,[{key:"render",value:function(){return Object(N.jsx)("div",{className:"container",children:Object(N.jsx)(_,{onSubmit:this.handleSubmit})})}}]),n}(a.Component),D=Object(O.b)((function(e){return{token:A(e)}}),(function(e){return{userLogin:function(t){return e(S(t))}}}))(L),P=Object(y.a)({form:"signUp"})((function(e){var t=e.handleSubmit;return Object(N.jsx)("div",{className:"wrapper_form",children:Object(N.jsxs)(E.a,{onSubmit:t,className:"form",children:[Object(N.jsx)("label",{htmlFor:"email",children:"Email"}),Object(N.jsx)(w.a,{component:"input",type:"text",name:"email",placeholder:"Your Email",validate:[I,U]}),Object(N.jsx)("label",{htmlFor:"password",children:"Password"}),Object(N.jsx)(w.a,{component:"input",type:"password",name:"password",placeholder:"Your Password",validate:[I,C]}),Object(N.jsx)("label",{htmlFor:"password2",children:"Password"}),Object(N.jsx)(w.a,{component:"input",type:"password",name:"password2",placeholder:"Repeat Your Password"}),Object(N.jsx)("button",{type:"submit",children:"Sign Up"})]})})})),F=n(25),Q=n(248),X=Object(Q.a)((r={},Object(F.a)(r,m,(function(e,t){return console.log("SIGN REQ REDUCER"),console.log(t.payload,"SIGN REQ REDUCER"),t.payload})),Object(F.a)(r,f,(function(e,t){return console.log(t.payload,"SIGN SUCCESS REDUCER"),t.payload})),Object(F.a)(r,x,(function(e,t){return console.log(t.payload,"SIGN ERR REDUCER"),t.payload})),r),{email:"",password:"",returnSecureToken:!0}),Y=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).componentDidUpdate=function(){console.log("login STATUS"),200===r.props.createUserStatus&&r.props.history.push("/")},r.handleSubmit=function(e){r.props.userCreate({email:e.email,password:e.password,returnSecureToken:!0})},r}return Object(u.a)(n,[{key:"render",value:function(){return console.log(this.props.loginStatus,"SIGN CONTAINER"),Object(N.jsx)("div",{className:"container",children:Object(N.jsx)(P,{onSubmit:this.handleSubmit})})}}]),n}(a.Component),H=Object(O.b)((function(e){return console.log(G(e),"MSTP"),{createUserStatus:G(e)}}),(function(e){return{userCreate:function(t){return e(m(t))}}}))(Y),M=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return console.log("main"),Object(N.jsx)("div",{className:"container",children:Object(N.jsx)("h1",{children:" feed "})})}}]),n}(a.Component),J=Object(O.b)(null,null)(M),W=function(e){var t=Object(O.c)((function(e){return e.login}));return console.log(t,"TOKEN router"),Object(N.jsx)(b.a,{children:Object(N.jsxs)(d.d,{children:[Object(N.jsx)(d.b,{exact:!0,path:"/",component:D}),Object(N.jsx)(d.b,{exact:!0,path:"/signup",component:H}),t?Object(N.jsx)(b.a,{exact:!0,path:"/feed",children:Object(N.jsx)(J,Object(p.a)({},e))}):Object(N.jsx)(d.a,{to:"/"})]})})},Z=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(N.jsx)(W,{})}}]),n}(a.Component),z=n(10),V=n(250),q=Object(Q.a)((c={},Object(F.a)(c,S,(function(e,t){return console.log("LOGIN REQUEST REDUCER"),t.payload})),Object(F.a)(c,g,(function(e,t){return console.log("LOGIN SUCCESS REDUCER"),t.payload})),Object(F.a)(c,v,(function(e,t){return console.log("LOGIN FAIL REDUCER"),t.payload})),c),{email:"",password:"",returnSecureToken:!0}),B=Object(z.c)({signUp:X,login:q,form:V.a}),K=n(117),$=n(22),ee=n.n($),te=n(21),ne=n(116),re=n.n(ne);function ce(e,t,n){return re()({url:e,method:n,data:JSON.stringify(t),headers:{"Content-Type":"application/json"}})}var ae=ee.a.mark(le),oe=ee.a.mark(je),se=ee.a.mark(pe),ie=ee.a.mark(be),ue=ee.a.mark(de);function le(e){var t,n,r;return ee.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return console.log(e,"SAGAX"),t="AIzaSyAWCH8mPcCh1kvxkMxLsre5ndngAiGH8TE",c.next=4,Object(te.d)();case 4:return n=c.sent,console.log(n,"STATE"),c.prev=6,c.next=9,Object(te.b)(ce,"https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=".concat(t),e.payload,"post");case 9:return r=c.sent,console.log(r.status,"REGISTER"),c.next=13,Object(te.c)(f(r.status));case 13:c.next=20;break;case 15:return c.prev=15,c.t0=c.catch(6),console.log(e,"sagaErr"),c.next=20,Object(te.c)(x(c.t0));case 20:case"end":return c.stop()}}),ae,null,[[6,15]])}function je(){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(te.e)(m,le);case 2:case"end":return e.stop()}}),oe)}function pe(e){var t,n,r;return ee.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return console.log("SAGA LOGIN"),t="AIzaSyAWCH8mPcCh1kvxkMxLsre5ndngAiGH8TE",c.next=4,Object(te.d)();case 4:return n=c.sent,console.log(n,"STATE SAGA LOGIN"),c.prev=6,c.next=9,Object(te.b)(ce,"https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=".concat(t),e.payload,"post");case 9:return r=c.sent,c.next=12,Object(te.c)(g(r.data.idToken));case 12:c.next=19;break;case 14:return c.prev=14,c.t0=c.catch(6),console.log(e,"catch saga"),c.next=19,Object(te.c)(v(c.t0));case 19:case"end":return c.stop()}}),se,null,[[6,14]])}function be(){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(te.e)(S,pe);case 2:case"end":return e.stop()}}),ie)}function de(){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(te.a)([je(),be()]);case 2:case"end":return e.stop()}}),ue)}var Oe=Object(K.a)(),he=Object(z.e)(B,Object(z.d)(Object(z.a)(Oe),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));Oe.run(de),s.a.render(Object(N.jsx)(O.a,{store:he,children:Object(N.jsx)(Z,{})}),document.getElementById("root"))}},[[245,1,2]]]);
//# sourceMappingURL=main.27c67996.chunk.js.map